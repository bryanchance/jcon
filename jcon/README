rts/README:  working notes for the runtime system

------------------------------------------------------------------------------

Java names are assigned as follows.

    i.....	infrastructure classes
    f$.....	runtime function classes
    k$.....	keyword classes
    l$.....	linked file classes
    o.....	runtime operator classes
    p$.....	user procedure classes
    v$.....	user variables
    v.....	implementation value and variable classes

------------------------------------------------------------------------------

Grep for '#%#%' in the code to find places that need revisiting.

------------------------------------------------------------------------------

Some areas where the implementation is known to be not-quite-right
(as distinguished from simply being unimplemented) are as follows.

general:
-- scripts etc. are still somewhat primitive
-- separate compilation is not available
-- no optimization has been done

strings and csets:
-- image() doesn't escape special characters
-- image(c) doesn't recognize &digits, &lcase, etc.
-- csets may be up to 2^16 characters; big ones run slowly; &cset is missing
-- char() and ord() work in the range 0 - 65535

numerics:
-- overflow or underflow is not detected
-- conversion of reals (& possibly integers) to strings does not match v9
-- conversion of strings to reals and integers probably follows different rules
-- "%" just uses the Java "%" operator; does that match what Icon needs?
-- on the Dec Alpha, a rightward ishift() doesn't sign extend  [Java bug]

error reporting:
-- no error recovery yet
-- long strings are not elided, list contents are omitted, etc.
-- arg lists in traceback show actual instead of expected number of arguments
   (e.g.: a call to insert() traces as insert() not insert(&null,&null,&null))

miscellaneous:
-- random selection uses Java's RNG, presumably generating different sequences
-- random sequences are different on every run
-- crude tracing can be enabled by setting &trace
-- read() and write() doen't accept file arguments
-- x ! R doesn't work for records (only for lists)
-- resuming a "break" is handled improperly (program crashes with Java error)
-- for coexpressions, image(), *C, and serial() don't work
-- jcon always allocates a list even if main() declares no arguments

arguably correct differences:
-- tables sort after sets, as per LB but contrary to v9
-- to-by handles overflow in "n to MAXINT" case
-- 1 / 0 gives error 201 instead of error 204
-- traceback is deliberately limited to the innermost 100 nested calls
-- "R . field" errors (e.g. 107, 207) give actual field name attempted
